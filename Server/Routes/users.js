const express = require('express');
const router = express.Router();
const { verifyToken, verifyTokenAndAuthorization, verifyTokenAnAdmin, verifyTokenAnUser } = require("../middlewares/verifyToken");
const { getAllUsers, getUserById, putUser, deleteUser, profilePhotoUpload, postInstructor, getAllInstructors,getUsersCount ,getAllstudents} = require('../controllers/userController');
const photoUpload = require("../middlewares/photoUpload");


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.put("/profile/:id", verifyTokenAnUser, putUser)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.get("/all", verifyTokenAnAdmin, getAllUsers)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.get("/all-instructors", getAllInstructors)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.get("/all-students", verifyTokenAnAdmin, getAllstudents)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.get("/studentscount", verifyTokenAnAdmin, getUsersCount)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.get("/:id", verifyTokenAndAuthorization, getUserById)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.delete("/:id", verifyTokenAndAuthorization, deleteUser)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.post("/profile/profile-photo-upload", verifyToken, photoUpload.single("image"), profilePhotoUpload)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
router.post("/instructor", verifyTokenAnAdmin, postInstructor)
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////


module.exports = router